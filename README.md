> This is terribly insecure and should not be something you turn to when you have CORS errors, use at your own risk.

# cors-auth-proxy

Sometimes you want to use a CORS proxy, but you only want a short-lived URL that people cannot spam. A simple form of short lived security is a random-prefix string similar to what ngrok does. This implements a similar interface:
- 
- Start the server with an API key: `API_KEY=test cargo run -- -p 5000`
- Set up an entry in `/etc/hosts` mapping `127.0.0.1`to `example.com`
- curl -v -X POST -H "Authorization: test" http://example.com:5000/url
- The above will return a URL of the form `prefix.example.com`
- Set up an entry in `/etc/hosts` mapping `127.0.0.1`to `prefix.example.com`
- Use the CORS proxy with `curl -v -X GET http://wdltl59eiwvrc.example.com:5000/google.com`

Mostly generated by Claude, so there are a lot of things I would change.
- Probably use sqlx instead, can sqlite accept multiple connections? Anyway, the Arc<Mutex<>> is ugly.
- More log statements and actual `log` crate integration.
- Use files
- Clap with a struct instead of manually specifying args
- Use a password comparison scheme that's not susceptible to timing attacks

## Local dev

```
API_KEY=test RUST_LOG=debug cargo run -- --local true -p 5000
```
